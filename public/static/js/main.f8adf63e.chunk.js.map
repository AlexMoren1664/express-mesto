{"version":3,"sources":["logo.svg","components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","Footer","CurrentUserContext","React","createContext","Card","name","likes","onCardClick","card","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","some","i","cardLikeButtonClassName","onClick","type","length","Main","props","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","data","link","ImagePopup","onClose","api","options","this","_baseUrl","baseUrl","_headers","headers","fetch","then","_getResponse","method","body","JSON","stringify","cardId","res","ok","json","Promise","reject","Error","status","authorization","PopupWithForm","isOpen","action","noValidate","onSubmit","title","children","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","value","onChange","target","id","placeholder","required","minLength","maxLength","autoComplete","EditAvatarPopup","inputRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","all","getUserInfo","getInitialCards","info","cardUser","catch","err","console","log","Provider","changeLikeCardStatus","newCard","newCards","c","deleteCard","car","filter","editUserInfo","updateAvatar","getNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f8adf63e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import logo from \"../logo.svg\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img src={logo} alt=\"Лого Место\" className=\"header__logo\" />\r\n    </header>\r\n  );\r\n}\r\nexport default Header;\r\n","function Footer() {\r\n    return (\r\n      <footer className=\"footer\">\r\n        <p className=\"footer__copyright\">© 2020. Александр Ефимов</p>\r\n      </footer>\r\n    );\r\n  }\r\n  export default Footer;\r\n  ","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\n\r\nfunction Card({\r\n  src,\r\n  name,\r\n  likes,\r\n  onCardClick,\r\n  card,\r\n  onCardLike,\r\n  onCardDelete,\r\n}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  function handleClick() {\r\n    onCardClick({\r\n      src: src,\r\n      name: name,\r\n    });\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n  function handleDeleteClick() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  const isOwn = card.owner._id === currentUser._id;\r\n\r\n  const cardDeleteButtonClassName = `card__delete ${\r\n    isOwn ? \"card__delete_type_hidden\" : \"\"\r\n  }`;\r\n\r\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n  const cardLikeButtonClassName = `card__like ${\r\n    isLiked ? \"card__like_active\" : \"\"\r\n  }`;\r\n\r\n  return (\r\n    <li className=\"card__grid\">\r\n      <img src={src} alt={name} className=\"card__img\" onClick={handleClick} />\r\n      <button\r\n        type=\"button\"\r\n        className={cardDeleteButtonClassName}\r\n        onClick={handleDeleteClick}\r\n      />\r\n      <div className=\"card__item\">\r\n        <h3 className=\"card__heading\">{name}</h3>\r\n        <div className=\"card__like-container\">\r\n          <button\r\n            type=\"button\"\r\n            className={cardLikeButtonClassName}\r\n            onClick={handleLikeClick}\r\n          />\r\n          <div className=\"card__counter\">{likes.length}</div>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\nexport default Card;\r\n","import React from \"react\";\r\nimport Card from \"./Card\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar\">\r\n          <img src={currentUser.avatar} alt=\"Кусто\" className=\"profile__img\" />\r\n          <div className=\"profile__cover\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"profile__button\"\r\n              onClick={props.onEditAvatar}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__container\">\r\n            <h2 className=\"profile__name\">{currentUser.name}</h2>\r\n            <button\r\n              type=\"button\"\r\n              className=\" profile__edit-button\"\r\n              onClick={props.onEditProfile}\r\n            />\r\n          </div>\r\n          <h3 className=\"profile__job\">{currentUser.about}</h3>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\" profile__add-button\"\r\n          onClick={props.onAddPlace}\r\n        />\r\n      </section>\r\n      <section className=\"cards\">\r\n        <ul className=\"card\">\r\n          {props.cards.map((data) => {\r\n            return (\r\n              <Card\r\n                likes={data.likes}\r\n                name={data.name}\r\n                src={data.link}\r\n                key={data._id}\r\n                onCardClick={props.onCardClick}\r\n                onCardLike={props.onCardLike}\r\n                onCardDelete={props.onCardDelete}\r\n                card={data}\r\n              />\r\n            );\r\n          })}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\nexport default Main;\r\n","function ImagePopup(props) {\r\n    return (\r\n      <>\r\n        <div\r\n          className={`popup popup_type_${props.name} ${\r\n            props.card.src  && \"popup_open\"\r\n          }`}\r\n        >\r\n          <div className=\"popup__content\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"popup__close popup__close_type_img\"\r\n              onClick={props.onClose}\r\n            />\r\n            <figure>\r\n              <img\r\n                className=\"popup__img\"\r\n                src={props.card.src}\r\n                alt={props.card.name}\r\n              />\r\n              <figcaption className=\"popup__img-title\">\r\n                {props.card.name}\r\n              </figcaption>\r\n            </figure>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n  export default ImagePopup;\r\n  ","export class Api {\r\n    constructor(options) {\r\n      this._baseUrl = options.baseUrl;\r\n      this._headers = options.headers;\r\n    }\r\n  \r\n    getUserInfo() {\r\n      return fetch(`${this._baseUrl}/users/me`, {\r\n        headers: this._headers,\r\n      }).then(this._getResponse);\r\n    }\r\n  \r\n    getInitialCards() {\r\n      return fetch(`${this._baseUrl}/cards`, {\r\n        headers: this._headers,\r\n      }).then(this._getResponse);\r\n    }\r\n  \r\n    editUserInfo(data) {\r\n      return fetch(`${this._baseUrl}/users/me`, {\r\n        headers: this._headers,\r\n        method: \"PATCH\",\r\n        body: JSON.stringify({\r\n          name: data.name,\r\n          about: data.about,\r\n        }),\r\n      }).then(this._getResponse);\r\n    }\r\n  \r\n    getNewCard(data) {\r\n      return fetch(`${this._baseUrl}/cards`, {\r\n        headers: this._headers,\r\n        method: \"POST\",\r\n        body: JSON.stringify({\r\n          name: data.name,\r\n          link: data.link,\r\n        }),\r\n      }).then(this._getResponse);\r\n    }\r\n  \r\n    deleteCard(cardId) {\r\n      return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n        headers: this._headers,\r\n        method: \"DELETE\",\r\n      }).then(this._getResponse);\r\n    }\r\n  \r\n    changeLikeCardStatus(cardId, isLiked) {\r\n      return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n        headers: this._headers,\r\n        method: isLiked ? \"PUT\" : \"DELETE\",\r\n      }).then(this._getResponse);\r\n    }\r\n  \r\n    updateAvatar(data) {\r\n      return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n        headers: this._headers,\r\n        method: \"PATCH\",\r\n        body: JSON.stringify({\r\n          avatar: data.link,\r\n        }),\r\n      }).then(this._getResponse);\r\n    }\r\n  \r\n    _getResponse(res) {\r\n      if (res.ok) {\r\n        return res.json();\r\n      } else {\r\n        return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n      }\r\n    }\r\n  }\r\n  \r\n  const api = new Api({\r\n    baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-17\",\r\n    headers: {\r\n      authorization: \"7bd94261-5a21-4877-bf79-305be7d353ce\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  });\r\n  export default api;\r\n  ","function PopupWithForm(props) {\r\n  return (\r\n    <>\r\n      <div\r\n        className={`popup popup_type_${props.name} ${\r\n          props.isOpen && \"popup_open\"\r\n        }`}\r\n      >\r\n        <form\r\n          action=\"#\"\r\n          className={`popup__form popup__form_${props.name}`}\r\n          name=\"form-profile\"\r\n          method=\"POST\"\r\n          noValidate\r\n          onSubmit={props.onSubmit}\r\n        >\r\n          <button\r\n            type=\"button\"\r\n            className=\"popup__close popup__close_type_profile\"\r\n            onClick={props.onClose}\r\n          />\r\n          <h2 className=\"popup__title\">{props.title}</h2>\r\n          {props.children}\r\n          <button\r\n            type=\"submit\"\r\n            className=\"popup__button popup__button_type_profile\"\r\n            // disabled\r\n          >\r\n            Сохранить\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { useState } from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\n\r\nfunction EditProfilePopup(props) {\r\n  const [name, setName] = useState(\" \");\r\n  const [description, setDescription] = useState(\" \");\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      onSubmit={handleSubmit}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      name=\"edit\"\r\n      title=\"Редактировать профиль\" >\r\n          <input\r\n            value={props.name}\r\n            onChange={handleChangeName}\r\n            id=\"name-input\"\r\n            name=\"name\"\r\n            type=\"text\"\r\n            className=\"popup__input popup__input_type_name\"\r\n            placeholder=\"Имя\"\r\n            required\r\n            minLength={2}\r\n            maxLength={40}\r\n            autoComplete=\"off\"\r\n          />\r\n          <span className=\"popup__error\" id=\"name-error\" />\r\n          <input\r\n            value={props.description}\r\n            onChange={handleChangeDescription}\r\n            id=\"about-input\"\r\n            name=\"about\"\r\n            type=\"text\"\r\n            className=\"popup__input popup__input_type_job\"\r\n            placeholder=\"О себе\"\r\n            required\r\n            minLength={2}\r\n            maxLength={40}\r\n            autoComplete=\"off\"\r\n          />\r\n          <span className=\"popup__error\" id=\"about-error\" />\r\n   </PopupWithForm>\r\n  );\r\n}\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { useRef } from \"react\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const inputRef = useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateAvatar({\r\n      link: inputRef.current.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      onSubmit={handleSubmit}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      name=\"avatar\"\r\n      title=\"Обновить аватар\" >\r\n          <input\r\n            id=\"avatar-input\"\r\n            name=\"link\"\r\n            type=\"url\"\r\n            placeholder=\"Ссылка на картинку\"\r\n            className=\"popup__input popup__input_type_avatar\"\r\n            required\r\n            autoComplete=\"off\"\r\n            ref={inputRef}\r\n          />\r\n          <span className=\"popup__error\" id=\"link-error\" />\r\n    </PopupWithForm>\r\n  );\r\n}\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n// import { useRef } from \"react\";\r\nimport { useState } from \"react\";\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [name, setName] = useState(\"\");\r\n  const [link, setLink] = useState(\"\")\r\n\r\n  function handleAddPlaceName(e) {\r\n    setName(e.target.value)\r\n  }\r\n  function handleAddPlaceLink(e) {\r\n    setLink(e.target.value)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onAddPlace({\r\n      name,\r\n      link\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      name=\"add\"\r\n      title=\"Новое место\" >\r\n\r\n          <input\r\n            id=\"title-input\"\r\n            name=\"name\"\r\n            type=\"text\"\r\n            placeholder=\"Название\"\r\n            className=\"popup__input popup__input_type_title\"\r\n            value={name}\r\n            required\r\n            minLength={1}\r\n            maxLength={30}\r\n            autoComplete=\"off\"\r\n            onChange= {handleAddPlaceName}\r\n          />\r\n          <span className=\"popup__error \" id=\"name-error\" />\r\n          <input\r\n            id=\"link-input\"\r\n            name=\"link\"\r\n            type=\"url\"\r\n            placeholder=\"Ссылка на картинку\"\r\n            className=\"popup__input popup__input_type_link\"\r\n            value={link}\r\n            required\r\n            autoComplete=\"off\"\r\n            onChange= {handleAddPlaceLink}\r\n          />\r\n          <span className=\"popup__error\" id=\"link-error\" />\r\n\r\n    </PopupWithForm>\r\n  );\r\n}\r\nexport default AddPlacePopup;\r\n","import React from \"react\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport Main from \"./Main\";\n// import PopupWithForm from \"./PopupWithForm\";\nimport ImagePopup from \"./ImagePopup\";\nimport { useState, useEffect } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\nimport api from \"../utils/api.js\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({});\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n\n  useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n      .then(([info, cardUser]) => {\n        setCurrentUser(info);\n        setCards(cardUser);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleCardClick(props) {\n    setSelectedCard({\n      src: props.src,\n      name: props.name,\n    });\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard({});\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api\n      .changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        const car = cards.filter((c) => c._id !== card._id);\n        setCards(car);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateUser(data) {\n    api\n      .editUserInfo(data)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n  function handleUpdateAvatar(data) {\n    api\n      .updateAvatar(data)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleAddPlaceSubmit(data) {\n    api\n      .getNewCard(data)\n      .then((res) => {\n        setCards([res, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <>\n        <div className=\"page\">\n          <div className=\"page__content\">\n            <Header />\n            <Main\n              onEditAvatar={handleEditAvatarClick}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onCardClick={handleCardClick}\n              cards={cards}\n              onCardLike={handleCardLike}\n              onCardDelete={handleCardDelete}\n            />\n            <Footer />\n          </div>\n        </div>\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n        {/* <PopupWithForm /> подтверждение удаления */}\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n      </>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}